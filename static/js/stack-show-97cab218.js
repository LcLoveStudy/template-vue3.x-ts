import"./echarts-a7d4e912.js";import{g as z,i as b,u as k}from"./index-b9df0fbf.js";import{d as h,o as g,a as x,c as v,u as _,K as B,I as p,V as f,F as T,T as u}from"./vue-ff40cb36.js";import{_ as H}from"./how-to-use-table.vue_vue_type_script_setup_true_lang-0fd9cc45.js";import{H as M}from"./index-af84855d.js";import"./elementPlus-d0603370.js";import"./elementIcons-69177a60.js";const c=a=>{if(typeof a!="object"||a===null||a instanceof WeakMap||a instanceof WeakSet)return a;if(a instanceof Date)return new Date(a.getTime());if(a instanceof Map){let t=new Map;return a.forEach((o,e)=>{t.set(e,c(o))}),t}if(a instanceof Set){let t=new Set;return a.forEach(o=>{t.add(c(o))}),t}return JSON.parse(JSON.stringify(a))},D=["id"],I=h({__name:"index",props:{data:{type:Array,required:!0},xAxisName:{type:String,default:""},yAxisName:{type:String,default:""},reverse:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},colorList:{type:Array},textColor:{type:String,default:"#000"},labelColor:{type:String,default:"#fff"},width:{type:String,default:"400px"},height:{type:String,default:"400px"}},setup(a){const t=z();let o;const e=a;let i=[],l=[],m=[];const d=[],N=()=>{o=b(t),S(),k(o)},S=()=>{w(),L(),A(),o.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{type:"scroll"},xAxis:{type:e.reverse?"value":"category",data:e.reverse?[]:i,name:e.xAxisName,nameTextStyle:{color:e.textColor},nameGap:5,axisLine:{show:!0,lineStyle:{color:e.textColor}},z:e.reverse?0:3},grid:{left:"3%",bottom:"3%",containLabel:!0},dataZoom:e.zoomable?[{type:"inside"}]:[],yAxis:{type:e.reverse?"category":"value",data:e.reverse?i:[],name:e.yAxisName,nameTextStyle:{color:e.textColor},axisLine:{show:!0,lineStyle:{color:e.textColor}},axisLabel:{margin:2},z:e.reverse?3:0},series:d})},w=()=>{i=[],l=[],e.data.forEach(n=>{i.push(n.name),n.data.forEach(r=>{l.includes(r.name)||l.push(r.name)})})},L=()=>{m=c(e.data),m.forEach(n=>{const r=[];n.data.forEach(s=>{r.push(s.name)}),l.forEach(s=>{r.includes(s)||n.data.push({name:s,value:0})})})},A=()=>{l.forEach((n,r)=>{d.push({name:n,type:"bar",stack:"total",color:e.colorList?e.colorList[r]:"",label:{show:!0,position:["40%","40%"],color:e.labelColor,fontSize:12},emphasis:{focus:"series"},data:(()=>{const s=[];return m.forEach(C=>{const y=C.data.find(E=>E.name===n);s.push(y?y.value:0)}),s})()})})};return g(()=>{N()}),(n,r)=>(x(),v("div",{id:_(t),style:B({width:e.width,height:e.height})},null,12,D))}}),V={class:"flex justify-around items-center"},J=p("pre",null,[u("        "),p("h1",{class:"mb-[-30px]"},"示例代码"),u("\n        "),p("code",{class:"language-html text-sm"},"\n        <stack-chart\n            zoomable\n            :data=\"[  { \n                        name: '测试1',\n                        data: [   \n                                { name: 'type1', value: 320 },\n                                { name: 'type2', value: 200 },\n                                { name: 'type3', value: 250 }\n                              ]\n                      },\n                      { \n                        name: '测试2',\n                        data: [   \n                                { name: 'type1', value: 302 },\n                                { name: 'type2', value: 302 },\n                                { name: 'type3', value: 200 }\n                              ]\n                      },\n                      { \n                        name: '测试3',\n                        data: [\n                          { name: 'type1', value: 301 },\n                          { name: 'type2', value: 100 },\n                          { name: 'type3', value: 301 }\n                        ]\n                      }\n                  ]\"\n            />\n        "),u("\n      ")],-1),P=h({__name:"stack-show",setup(a){g(()=>{M.highlightAll()});const t=[{propName:"data(必填)",mean:"展示的值",type:"Array<{name:string,data:{name:string;value:number}[]}>",default:"-"},{propName:"xAxisName",mean:"x轴的名字",type:"string",default:"-"},{propName:"yAxisName",mean:"y轴的名字",type:"string",default:"-"},{propName:"reverse",mean:"x轴和y轴是否反转",type:"boolean",default:"false"},{propName:"zoomable",mean:"是否允许滚动缩放",type:"boolean",default:"false"},{propName:"color-list",mean:"柱子颜色，未设置则随机显示",type:"string[]",default:"-"},{propName:"labelColor",mean:"柱子中值的字体颜色",type:"string",default:"#fff"},{propName:"width",mean:"整个图标的宽度",type:"string",default:"400px"},{propName:"height",mean:"整个图标的高度",type:"string",default:"400px"}];return(o,e)=>(x(),v(T,null,[p("div",V,[f(_(I),{zoomable:"",data:[{name:"测试1",data:[{name:"type1",value:320},{name:"type2",value:200},{name:"type3",value:250}]},{name:"测试2",data:[{name:"type1",value:302},{name:"type2",value:302},{name:"type3",value:200}]},{name:"测试3",data:[{name:"type1",value:301},{name:"type2",value:100},{name:"type3",value:301}]}]}),J]),f(H,{"how-to-use":t})],64))}});export{P as default};
