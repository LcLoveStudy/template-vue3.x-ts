import{g as h}from"./getRandomColor-c774a35d.js";import{g as f,i as v,u as g}from"./index-c38d114a.js";import"./echarts-a7d4e912.js";import{d as b,r as n,w as C,o as S,a as A,c as w,u as _,K as z}from"./vue-0c3a7f5f.js";const E=["id"],k=b({__name:"index",props:{data:{type:Array,required:!0},xAxisName:{type:String,default:""},yAxisName:{type:String,default:""},reverse:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},barColor:{type:String,default:""},rules:{type:Array},textColor:{type:String,default:"#000"},width:{type:String,default:"400px"},height:{type:String,default:"400px"}},setup(x){const c=f(),e=x;let o=[],r="bar";const s=n([]),l=n([]),u=n([]);let i;const m=()=>{i=v(c),d(),g(i)},d=()=>{i.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:s.value,legend:{type:"scroll"},dataZoom:e.zoomable?[{type:"inside"}]:[],xAxis:{type:e.reverse?"value":"category",data:e.reverse?[]:o,name:e.reverse?e.yAxisName:e.xAxisName,nameTextStyle:{color:e.textColor},nameGap:5,axisLine:{show:!0,lineStyle:{color:e.textColor}},z:e.reverse?0:3},grid:{left:"3%",bottom:"3%",containLabel:!0},yAxis:{type:e.reverse?"category":"value",data:e.reverse?o:[],name:e.reverse?e.xAxisName:e.yAxisName,nameTextStyle:{color:e.textColor},axisLine:{show:!0,lineStyle:{color:e.textColor}},axisLabel:{margin:2},z:e.reverse?3:0},series:r==="bars"?u.value:[{data:l.value,type:"bar",label:{show:!0,position:e.reverse?"right":"top",color:e.textColor,fontSize:12}}]})},p=()=>{o=[],e.data.forEach(t=>{if(!Object.keys(t).includes("series"))r="bar",o.push(t.name);else{r="bars";const a=t;o=a.names,u.value.push({type:"bar",name:a.series,data:a.values,label:{show:!0,position:e.reverse?"right":"top",color:e.textColor,fontSize:12}})}})},y=()=>{r==="bar"?(e.data.forEach(t=>{l.value.push({itemStyle:{color:t.color?t.color:e.barColor?e.barColor:h()},value:t.value})}),e!=null&&e.rules&&e.rules.forEach(t=>{l.value.forEach(a=>{a.value>=t.min&&a.value<=t.max&&(a.itemStyle.color=t.color)})})):r==="bars"&&e.data.forEach(t=>{if(t.color)s.value.push(t.color);else for(let a=0;a<=e.data.length-1;a++)s.value.push(h())})};return C(()=>e.data,()=>{p(),y(),d()},{deep:!0}),S(()=>{p(),y(),m()}),(t,a)=>(A(),w("div",{id:_(c),style:z({width:e.width,height:e.height})},null,12,E))}});export{k as _};
